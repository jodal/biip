# Upgrading from 3.x to 4.x

## Result objects are immutable

All the dataclasses returned by Biip are now immutable. This means that you can
no longer set attributes on them after they are created.

## `biip.parse()` no longer raises `ParseError`

[`biip.parse()`][biip.parse] no longer raises [`ParseError`][biip.ParseError]
when all parsers fail. This means that you can remove the `try/except` block
around any calls to `biip.parse()` and base your logic on the returned
[`ParseResult`][biip.ParseResult]. (PR !376)

## All config passed via `ParseConfig`

All parser configuration options have been moved to the
[`ParseConfig`][biip.ParseConfig] class. (PR !385)

Look for anywhere you use the old configuration options:

- `rcn_region`,
- `rcn_verify_variable_measure`, or
- `separator_chars`

and replace them with a [`ParseConfig`][biip.ParseConfig] instance.
For example, if you previously used:

```python
result = biip.parse("0107032069804988100329|15210525", separator_chars=["|"])
```

You should now use:

```python
config = biip.ParseConfig(separator_chars=["|"])
result = biip.parse("0107032069804988100329|15210525", config=config)
```

## `biip.gs1` module

- `biip.gs1.checksums.numeric_check_digit()` function has moved to
  [`biip.checksums.gs1_standard_check_digit()`][biip.checksums.gs1_standard_check_digit]
  (PR !375)

- `biip.gs1.checksums.price_check_digit()` function has moved to
  [`biip.checksums.gs1_price_weight_check_digit()`][biip.checksums.gs1_price_weight_check_digit]
  (PR !375)

- `biip.gs1.GS1ApplicationIdentifier` class has moved to
  [`biip.gs1_application_identifiers.GS1ApplicationIdentifier`][biip.gs1_application_identifiers.GS1ApplicationIdentifier]
  (PR !380)

- `biip.gs1.GS1ApplicationIdentifier.fnc1_required` field has moved to
  [`biip.gs1_application_identifiers.GS1ApplicationIdentifier.separator_required`][biip.gs1_application_identifiers.GS1ApplicationIdentifier.separator_required]
  (PR !382)

- `biip.gs1.GS1CompanyPrefix` class has moved to
  [`biip.gs1_prefixes.GS1CompanyPrefix`][biip.gs1_prefixes.GS1CompanyPrefix]
  (PR !380)

- `biip.gs1.GS1ElementString` class has moved to
  [`biip.gs1_element_strings.GS1ElementString`][biip.gs1_element_strings.GS1ElementString]
  (PR !380, #388)

- `biip.gs1.GS1Message` class has moved to
  [`biip.gs1_messages.GS1Message`][biip.gs1_messages.GS1Message]
  (PR !380)

- `biip.gs1.GS1Message.filter()` method has moved to
  [`biip.gs1_element_strings.GS1ElementStrings.filter()`][biip.gs1_element_strings.GS1ElementStrings.filter]
  (PR !391).
  Change any use of `gs1_message.filter()` to
  `gs1_message.element_strings.filter()`.

- `biip.gs1.GS1Message.get()` method has moved to
  [`biip.gs1_element_strings.GS1ElementStrings.get()`][biip.gs1_element_strings.GS1ElementStrings.get]
  (PR !391)
  Change any use of `gs1_message.get()` to `gs1_message.element_strings.get()`.

- `biip.gs1.GS1Prefix` class has moved to
  [`biip.gs1_prefixes.GS1Prefix`][biip.gs1_prefixes.GS1Prefix]
  (PR !380)

- `biip.gs1.GS1Symbology` class has moved to
  [`biip.symbology.GS1Symbology`][biip.symbology.GS1Symbology]
  (PR !379)

- `biip.gs1.GS1Symbology.with_ai_element_strings()` method has moved to
  [`biip.symbology.GS1Symbology.with_gs1_messages()`][biip.symbology.GS1Symbology.with_gs1_messages]
  (PR !392)

## `biip.gtin` module

- `biip.gtin.Rcn` class has moved to
  [`biip.rcn.Rcn`][biip.rcn.Rcn]
  (PR !381)

- `biip.gtin.RcnRegion` class has moved to
  [`biip.rcn.RcnRegion`][biip.rcn.RcnRegion]
  (PR !381)

- `biip.gtin.RcnUsage` class has moved to
  [`biip.rcn.RcnUsage`][biip.rcn.RcnUsage]
  (PR !381)

## `biip.symbology` module

- `biip.symbology.Symbology` class has moved to
  [`biip.symbology.ISOSymbology`][biip.symbology.ISOSymbology]
  (PR !379)

- `biip.symbology.SymbologyIdentifier.symbology` field has moved to
  [`biip.symbology.SymbologyIdentifier.iso_symbology`][biip.symbology.SymbologyIdentifier.iso_symbology]
  (PR !379)
